复习间隔算法分析
======================

根据艾宾浩斯遗忘曲线, 人的记忆遗忘存在先快后慢的规律. 因此对需要记忆的东西, 需要按照一定的时间间隔进行复习, 才能保证在长期中记住这些内容. 由于记忆的具体内容以及复习的次数不同,
在不同的状态下, 对某一个知识点需要重复记忆的复习间隔也就不尽相同.

在此背景下, 如何通过用户提交的有限的数据来推测最合适的复习间隔就是一个重要的功能.

根据记忆遗忘的相关理论解释, , 因此需要记忆的内容本身的特性, 同时记忆的其他内容的数量等因素 都会影响记忆的牢固程度, 从而进一步影响复习间隔的长度(容易遗忘的内容应该以更高的频率进行复习,
而不太容易遗忘的内容可以以更低的频率进行复习, 从而减少复习的总次数)


模型接口
--------------------

根据上述讨论, 可以先对模型的外部接口进行定义.

- 输入信息
  - 知识点本身的表征信息
  - 同一天内加入的知识数量
  - 知识已经复习的次数
  - 知识上一次的复习间隔

- 输出信息
  - 此知识点下一次复习的时间(时间间隔)

### 目标函数

为了简化模型的构建难度, 目前仅考虑将记忆准确率作为评价指标, 即在某一轮次复习过程中, 这批知识的总体记忆程度.

如果追求100%的记忆所有内容, 显然会使模型趋向于无限缩短复习频率, 而复习频率过高会导致复习工作量过大.

因此为了适当平衡复习频率, 目前考虑将复习准确率定位80%, 即如果当前复习准确率低于80%, 则考虑提高复习频率, 反之则降低复习频率.

> 如果后续将复习频率也作为目标函数的一部分, 则可以避免硬性的规定准确率

> 由于这是一个可以用函数表达的目标, 因此可以使用梯度下降的方式优化模型


可用模型
--------------------

### 倍率拟合模型

由于神经网络的开发难度较大, 因此在神经网络模型开发完成以前, 可以使用一个比较简单的指数模型进行复习时间间隔的预测.

此模型仅根据知识点的记忆程度以及上一次的复习时间作为输入, 并按照当前记忆程度决定预测下一次复习时间间隔, 策略表如下所示:

   _    |忘记   | 陌生    | 记得    | 熟悉
--------|-------|---------|---------|------
忘记    | 0.5   | 1.0     | 2.4     | 4.5
陌生    | 0.4   | 0.7     | 2.2     | 4.0
记得    | 0.3   | 0.6     | 2.0     | 3.5
熟悉    | 0.2   | 0.5     | 1.5     | 3.0

对于不同的记忆程度, 按照倍率增加(或减少)其复习间隔. 例如上一次记忆程度为`熟悉`的知识点, 在本轮的以及程度为`记得`, 则将其复习间隔增加为原来的1.5倍

各个记忆程度的期望占比如下

记忆程度  |  目标占比预期值
----------|------------------
熟悉      | 30%
记得      | 40%
陌生      | 10%
忘记      | 20%

此后, 在每天的复习结束后, 根据复习情况的实际情况和预期的情况来调整各个参数的取值.

调整过程类似于神经网络的梯度下降过程, 差距越大的项, 数据中占比越大的项被调整的幅度越大.

### 神经网络

由于输入数据的性质不太相同, 因此使用传统方式比较难以建立模型, 而神经网络反而比较适合这种情况.

具体建模过程待定.

### 强化学习

感觉这个间隔时间可能与强化学习存在一定的相关性, 但具体如何实现还需要进一步完善. 以下是一些设想

- 状态: 从知识点被记录到现在的时间 t, 单词被复习过的次数 n
- 动作: 立即复习 / 延迟X时间后复习
- 奖励: 最优目标是知识点有点遗忘但又不是非常遗忘时提示用户复习,
  - 例如可以设定 非常熟悉 + 0.25分 有点熟悉 +1分 有点陌生 -0.25分 陌生 - 10分

此外, 还可以考虑引入信息熵的概念来计算输入的知识点的信息量, 并作为计算复习间隔的辅助信息
